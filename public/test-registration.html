<!DOCTYPE html>
<html>
<head>
    <title>Registration Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .test-form { background: #f5f5f5; padding: 20px; margin: 20px 0; border-radius: 8px; }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h1>Registration Fix Test</h1>
    
    <div class="test-form">
        <h3>Test Sponsor Registration</h3>
        <form action="/sponsorreg" method="POST">
            <input type="text" name="name" placeholder="Company Name" value="Test Fix Company <?= time() ?>" required><br><br>
            <input type="email" name="email" placeholder="Email" value="test.fix.<?= time() ?>@company.com" required><br><br>
            <input type="text" name="phone" placeholder="Phone" value="771234572" required><br><br>
            <input type="password" name="password" placeholder="Password" value="TestPassword123" required><br><br>
            <input type="password" name="confirm-password" placeholder="Confirm Password" value="TestPassword123" required><br><br>
            <input type="hidden" name="country-code" value="+94">
            <input type="checkbox" name="terms" checked> I accept the terms<br><br>
            <button type="submit">Test Sponsor Registration</button>
        </form>
    </div>
    
    <div class="test-form">
        <h3>Test Publisher Registration</h3>
        <form action="/publisherreg" method="POST" enctype="multipart/form-data">
            <input type="text" name="society-name" placeholder="Society Name" value="Test Fix Society <?= time() ?>" required><br><br>
            <input type="email" name="email" placeholder="Email" value="test.fix.pub.<?= time() ?>@society.com" required><br><br>
            <input type="text" name="phone" placeholder="Phone" value="771234573" required><br><br>
            <input type="password" name="password" placeholder="Password" value="TestPassword123" required><br><br>
            <input type="password" name="confirm-password" placeholder="Confirm Password" value="TestPassword123" required><br><br>
            <select name="university" required>
                <option value="university-of-colombo">University of Colombo</option>
            </select><br><br>
            <select name="faculty" required>
                <option value="faculty-of-engineering">Faculty of Engineering</option>
            </select><br><br>
            <input type="file" name="confirmation-document" accept=".pdf,.doc,.docx,.jpg,.png"><br><br>
            <input type="checkbox" name="terms" checked> I accept the terms<br><br>
            <button type="submit">Test Publisher Registration</button>
        </form>
    </div>
    
    <div class="test-form">
        <h3>Quick Links</h3>
        <a href="/sponsorreg">Sponsor Registration Page</a><br>
        <a href="/publisherreg">Publisher Registration Page</a><br>
        <a href="/unireg">University Registration Page</a><br>
        <a href="/publicreg">Public Registration Page</a><br>
    </div>
    
    <div class="test-form">
        <h3>Fix Applied</h3>
        <p><strong>Issue:</strong> Registration was showing "failed" message even when data was successfully inserted into database.</p>
        <p><strong>Cause:</strong> Missing <code>createFromRegistration</code> method in User model.</p>
        <p><strong>Fix:</strong> Added the missing method to User.php model.</p>
        <p><strong>Result:</strong> Registration should now show success messages correctly!</p>
    </div>
</body>
</html>
